(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{402:function(t,s,a){"use strict";a.r(s);var e=a(14),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"request-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-js"}},[t._v("#")]),t._v(" request.js")]),t._v(" "),s("blockquote",[s("p",[t._v("Send parameterized requests to GitHub‚Äôs APIs with sensible defaults in browsers and Node")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@octokit/request",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/@octokit/request.svg",alt:"@latest"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/octokit/request.js/actions?query=workflow%3ATest+branch%3Amain",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://github.com/octokit/request.js/workflows/Test/badge.svg",alt:"Build Status"}}),s("OutboundLink")],1)]),t._v(" "),s("p",[s("code",[t._v("@octokit/request")]),t._v(" is a request library for browsers & node that makes it easier\nto interact with "),s("a",{attrs:{href:"https://developer.github.com/v3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub‚Äôs REST API"),s("OutboundLink")],1),t._v(" and\n"),s("a",{attrs:{href:"https://developer.github.com/v4/guides/forming-calls/#the-graphql-endpoint",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub‚Äôs GraphQL API"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("It uses "),s("a",{attrs:{href:"https://github.com/octokit/endpoint.js",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@octokit/endpoint")]),s("OutboundLink")],1),t._v(" to parse\nthe passed options and sends the request using "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("fetch"),s("OutboundLink")],1),t._v(". You can pass a custom "),s("code",[t._v("fetch")]),t._v(" function using the "),s("code",[t._v("options.request.fetch")]),t._v(" option, see below.")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#requestjs"}},[t._v("request.js")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#features"}},[t._v("Features")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#usage"}},[t._v("Usage")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#rest-api-example"}},[t._v("REST API example")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#graphql-example"}},[t._v("GraphQL example")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#alternative-pass-method--url-as-part-of-options"}},[t._v("Alternative: pass "),s("code",[t._v("method")]),t._v(" & "),s("code",[t._v("url")]),t._v(" as part of options")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#authentication"}},[t._v("Authentication")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#request"}},[t._v("request()")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#requestdefaults"}},[s("code",[t._v("request.defaults()")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#requestendpoint"}},[s("code",[t._v("request.endpoint")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#special-cases"}},[t._v("Special cases")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#the-data-parameter--set-request-body-directly"}},[t._v("The "),s("code",[t._v("data")]),t._v(" parameter ‚Äì set request body directly")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#set-parameters-for-both-the-urlquery-and-the-request-body"}},[t._v("Set parameters for both the URL/query and the request body")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#set-a-custom-agent-to-your-requests"}},[t._v("Set a custom Agent to your requests")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#license"}},[t._v("LICENSE")])])])])]),t._v(" "),s("h2",{attrs:{id:"features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),s("p",[t._v("ü§© 1:1 mapping of REST API endpoint documentation, e.g. "),s("a",{attrs:{href:"https://developer.github.com/v3/issues/labels/#add-labels-to-an-issue",target:"_blank",rel:"noopener noreferrer"}},[t._v("Add labels to an issue"),s("OutboundLink")],1),t._v(" becomes")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST /repos/{owner}/{repo}/issues/{number}/labels"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mediaType")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("previews")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"symmetra"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("owner")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"octokit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("repo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("number")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("labels")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"üêõ bug"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("üë∂ "),s("a",{attrs:{href:"https://bundlephobia.com/result?p=@octokit/request@5.0.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Small bundle size"),s("OutboundLink")],1),t._v(" (<4kb minified + gzipped)")]),t._v(" "),s("p",[t._v("üòé "),s("a",{attrs:{href:"#authentication"}},[t._v("Authenticate")]),t._v(" with any of "),s("a",{attrs:{href:"https://github.com/octokit/auth.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHubs Authentication Strategies"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("üëç Sensible defaults")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("baseUrl")]),t._v(": "),s("code",[t._v("https://api.github.com")])]),t._v(" "),s("li",[s("code",[t._v("headers.accept")]),t._v(": "),s("code",[t._v("application/vnd.github.v3+json")])]),t._v(" "),s("li",[s("code",[t._v("headers['user-agent']")]),t._v(": "),s("code",[t._v("octokit-request.js/<current version> <OS information>")]),t._v(", e.g. "),s("code",[t._v("octokit-request.js/1.2.3 Node.js/10.15.0 (macOS Mojave; x64)")])])]),t._v(" "),s("p",[t._v("üëå Simple to test: mock requests by passing a custom fetch method.")]),t._v(" "),s("p",[t._v("üßê Simple to debug: Sets "),s("code",[t._v("error.request")]),t._v(" to request options causing the error (with redacted credentials).")]),t._v(" "),s("h2",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),s("table",[s("tbody",{attrs:{valign:"top",align:"left"}},[s("tr",[s("th",[t._v("\nBrowsers\n")]),s("td",{attrs:{width:"100%"}},[t._v("\nLoad "),s("code",[t._v("@octokit/request")]),t._v(" directly from "),s("a",{attrs:{href:"https://esm.sh"}},[t._v("esm.sh")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" request "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://esm.sh/@octokit/request"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])]),t._v(" "),s("tr",[s("th",[t._v("\nNode\n")]),s("td",[s("p",[t._v("Install with "),s("code",[t._v("npm install @octokit/request")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" request "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@octokit/request"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// or: import { request } from "@octokit/request";')]),t._v("\n")])])])])])])]),t._v(" "),s("h3",{attrs:{id:"rest-api-example"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rest-api-example"}},[t._v("#")]),t._v(" REST API example")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Following GitHub docs formatting:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://developer.github.com/v3/repos/#list-organization-repositories")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET /orgs/{org}/repos"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token 0000000000000000000000000000000000000001"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("org")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"octokit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"private"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(" repos found.")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"graphql-example"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#graphql-example"}},[t._v("#")]),t._v(" GraphQL example")]),t._v(" "),s("p",[t._v("For GraphQL request we recommend using "),s("a",{attrs:{href:"https://github.com/octokit/graphql.js#readme",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@octokit/graphql")]),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST /graphql"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token 0000000000000000000000000000000000000001"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("query ($login: String!) {\n    organization(login: $login) {\n      repositories(privacy: PRIVATE) {\n        totalCount\n      }\n    }\n  }")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("variables")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"octokit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"alternative-pass-method-url-as-part-of-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alternative-pass-method-url-as-part-of-options"}},[t._v("#")]),t._v(" Alternative: pass "),s("code",[t._v("method")]),t._v(" & "),s("code",[t._v("url")]),t._v(" as part of options")]),t._v(" "),s("p",[t._v("Alternatively, pass in a method and a url")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/orgs/{org}/repos"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token 0000000000000000000000000000000000000001"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("org")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"octokit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"private"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authentication"}},[t._v("#")]),t._v(" Authentication")]),t._v(" "),s("p",[t._v("The simplest way to authenticate a request is to set the "),s("code",[t._v("Authorization")]),t._v(" header directly, e.g. to a "),s("a",{attrs:{href:"https://github.com/settings/tokens/",target:"_blank",rel:"noopener noreferrer"}},[t._v("personal access token"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" requestWithAuth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaults")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token 0000000000000000000000000000000000000001"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestWithAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET /user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("For more complex authentication strategies such as GitHub Apps or Basic, we recommend the according authentication library exported by "),s("a",{attrs:{href:"https://github.com/octokit/auth.js",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@octokit/auth")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createAppAuth "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@octokit/auth-app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" auth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createAppAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("appId")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_ID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("privateKey")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PRIVATE_KEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("installationId")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" requestWithAuth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaults")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hook")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" auth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mediaType")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("previews")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"machine-man"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestWithAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET /app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestWithAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST /repos/{owner}/{repo}/issues"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("owner")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"octocat"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("repo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello from the engine room"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[t._v("#")]),t._v(" request()")]),t._v(" "),s("p",[s("code",[t._v("request(route, options)")]),t._v(" or "),s("code",[t._v("request(options)")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Options")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{attrs:{align:"left"}},[t._v("\n        name\n      ")]),t._v(" "),s("th",{attrs:{align:"left"}},[t._v("\n        type\n      ")]),t._v(" "),s("th",{attrs:{align:"left"}},[t._v("\n        description\n      ")])])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("route")])]),t._v(" "),s("td",[t._v("\n      String\n    ")]),t._v(" "),s("td",[t._v("\n      **Required**. If "),s("code",[t._v("route")]),t._v(" is set it has to be a string consisting of the request method and URL, e.g. "),s("code",[t._v("GET /orgs/{org}")])])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.baseUrl")])]),t._v(" "),s("td",[t._v("\n      String\n    ")]),t._v(" "),s("td",[t._v("\n      The base URL that "),s("code",[t._v("route")]),t._v(" or "),s("code",[t._v("url")]),t._v(" will be prefixed with, if they use relative paths. "),s("em",[t._v("Defaults to "),s("code",[t._v("https://api.github.com")])]),t._v(".\n    ")])]),t._v(" "),s("th",{attrs:{align:"left"}},[s("code",[t._v("options.headers")])]),t._v(" "),s("td",[t._v("\n      Object\n    ")]),t._v(" "),s("td",[t._v("\n      Custom headers. Passed headers are merged with defaults:"),s("br"),t._v(" "),s("em",[s("code",[t._v("headers['user-agent']")]),t._v(" defaults to "),s("code",[t._v("octokit-rest.js/1.2.3")]),t._v(" (where "),s("code",[t._v("1.2.3")]),t._v(" is the released version)")]),t._v("."),s("br"),t._v(" "),s("em",[s("code",[t._v("headers['accept']")]),t._v(" defaults to "),s("code",[t._v("application/vnd.github.v3+json")]),t._v("."),s("br"),t._v(" Use "),s("code",[t._v("options.mediaType.{format,previews}")]),t._v(" to request API previews and custom media types.\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.method")])]),t._v(" "),s("td",[t._v("\n      String\n    ")]),t._v(" "),s("td",[t._v("\n      Any supported "),s("a",{attrs:{href:"https://developer.github.com/v3/#http-verbs"}},[t._v("http verb")]),t._v(", case insensitive. "),s("em",[t._v("Defaults to "),s("code",[t._v("Get")])]),t._v(".\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.mediaType.format")])]),t._v(" "),s("td",[t._v("\n      String\n    ")]),t._v(" "),s("td",[t._v("\n      Media type param, such as `raw`, `html`, or `full`. See "),s("a",{attrs:{href:"https://developer.github.com/v3/media/"}},[t._v("Media Types")]),t._v(".\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.mediaType.previews")])]),t._v(" "),s("td",[t._v("\n      Array of strings\n    ")]),t._v(" "),s("td",[t._v("\n      Name of previews, such as `mercy`, `symmetra`, or `scarlet-witch`. See "),s("a",{attrs:{href:"https://docs.github.com/graphql/overview/schema-previews"}},[t._v("GraphQL Schema Previews")]),t._v(".\n      Note that these only apply to GraphQL requests and have no effect on REST routes.\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.url")])]),t._v(" "),s("td",[t._v("\n      String\n    ")]),t._v(" "),s("td",[t._v("\n      **Required**. A path or full URL which may contain "),s("code",[t._v(":variable")]),t._v(" or "),s("code",[t._v("{variable}")]),t._v(" placeholders,\n      e.g. "),s("code",[t._v("/orgs/{org}/repos")]),t._v(". The "),s("code",[t._v("url")]),t._v(" is parsed using "),s("a",{attrs:{href:"https://github.com/bramstein/url-template"}},[t._v("url-template")]),t._v(".\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.data")])]),t._v(" "),s("td",[t._v("\n      Any\n    ")]),t._v(" "),s("td",[t._v("\n      Set request body directly instead of setting it to JSON based on additional parameters. See "),s("a",{attrs:{href:"#data-parameter"}},[t._v('"The `data` parameter"')]),t._v(" below.\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.request.fetch")])]),t._v(" "),s("td",[t._v("\n      Function\n    ")]),t._v(" "),s("td",[t._v("\n     Custom replacement for "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API"}},[t._v("fetch")]),t._v(". Useful for testing or request hooks.\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("options.request.hook")])]),t._v(" "),s("td",[t._v("\n      Function\n    ")]),t._v(" "),s("td",[t._v("\n     Function with the signature "),s("code",[t._v("hook(request, endpointOptions)")]),t._v(", where "),s("code",[t._v("endpointOptions")]),t._v(" are the parsed options as returned by "),s("a",{attrs:{href:"https://github.com/octokit/endpoint.js#endpointmergeroute-options-or-endpointmergeoptions"}},[s("code",[t._v("endpoint.merge()")])]),t._v(", and "),s("code",[t._v("request")]),t._v(" is "),s("a",{attrs:{href:"https://github.com/octokit/request.js#request"}},[s("code",[t._v("request()")])]),t._v(". This option works great in conjuction with "),s("a",{attrs:{href:"https://github.com/gr2m/before-after-hook"}},[t._v("before-after-hook")]),t._v(".\n    ")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("a",{attrs:{name:"options-request-signal"}}),s("code",[t._v("options.request.signal")])]),t._v(" "),s("td",[s("a",{attrs:{href:"https://github.com/bitinn/node-fetch/tree/e996bdab73baf996cf2dbf25643c8fe2698c3249#request-cancellation-with-abortsignal"}},[t._v("new AbortController().signal")])]),t._v(" "),s("td",[t._v("\n      Use an "),s("code",[t._v("AbortController")]),t._v(" instance to cancel a request. In node you can only cancel streamed requests.\n    ")])]),t._v(" "),s("th",{attrs:{align:"left"}},[s("code",[t._v("options.request.log")])]),t._v(" "),s("td",[s("code",[t._v("object")])]),t._v(" "),s("td",[t._v("\n      Used for internal logging. Defaults to "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/console"}},[s("code",[t._v("console")])]),t._v(".\n    ")]),t._v(" "),s("th",{attrs:{align:"left"}},[s("code",[t._v("options.request.parseSuccessResponseBody")])]),t._v(" "),s("td",[s("code",[t._v("boolean")])]),t._v(" "),s("td",[t._v("\n      If set to "),s("code",[t._v("false")]),t._v(" the returned `response` will be passed through from `fetch`. This is useful to stream response.body when downloading files from the GitHub API.\n    ")])]),t._v(" "),s("p",[t._v("All other options except "),s("code",[t._v("options.request.*")]),t._v(" will be passed depending on the "),s("code",[t._v("method")]),t._v(" and "),s("code",[t._v("url")]),t._v(" options.")]),t._v(" "),s("ol",[s("li",[t._v("If the option key is a placeholder in the "),s("code",[t._v("url")]),t._v(", it will be used as replacement. For example, if the passed options are "),s("code",[t._v("{url: '/orgs/{org}/repos', org: 'foo'}")]),t._v(" the returned "),s("code",[t._v("options.url")]),t._v(" is "),s("code",[t._v("https://api.github.com/orgs/foo/repos")])]),t._v(" "),s("li",[t._v("If the "),s("code",[t._v("method")]),t._v(" is "),s("code",[t._v("GET")]),t._v(" or "),s("code",[t._v("HEAD")]),t._v(", the option is passed as query parameter")]),t._v(" "),s("li",[t._v("Otherwise the parameter is passed in the request body as JSON key.")])]),t._v(" "),s("p",[s("strong",[t._v("Result")])]),t._v(" "),s("p",[s("code",[t._v("request")]),t._v(" returns a promise. If the request was successful, the promise resolves with an object containing 4 keys:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{attrs:{align:"left"}},[t._v("\n        key\n      ")]),t._v(" "),s("th",{attrs:{align:"left"}},[t._v("\n        type\n      ")]),t._v(" "),s("th",{attrs:{align:"left"}},[t._v("\n        description\n      ")])])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("status")])]),t._v(" "),s("td",[t._v("Integer")]),t._v(" "),s("td",[t._v("Response status status")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("url")])]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("URL of response. If a request results in redirects, this is the final URL. You can send a "),s("code",[t._v("HEAD")]),t._v(" request to retrieve it without loading the full response body.")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("headers")])]),t._v(" "),s("td",[t._v("Object")]),t._v(" "),s("td",[t._v("All response headers")])]),t._v(" "),s("tr",[s("th",{attrs:{align:"left"}},[s("code",[t._v("data")])]),t._v(" "),s("td",[t._v("Any")]),t._v(" "),s("td",[t._v("The response body as returned from server. If the response is JSON then it will be parsed into an object")])])]),t._v(" "),s("p",[t._v("If an error occurs, the promise is rejected with an "),s("code",[t._v("error")]),t._v(" object containing 3 keys to help with debugging:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("error.status")]),t._v(" The http response status code")]),t._v(" "),s("li",[s("code",[t._v("error.request")]),t._v(" The request options such as "),s("code",[t._v("method")]),t._v(", "),s("code",[t._v("url")]),t._v(" and "),s("code",[t._v("data")])]),t._v(" "),s("li",[s("code",[t._v("error.response")]),t._v(" The http response object with "),s("code",[t._v("url")]),t._v(", "),s("code",[t._v("headers")]),t._v(", and "),s("code",[t._v("data")])])]),t._v(" "),s("p",[t._v("If the error is due to an "),s("code",[t._v("AbortSignal")]),t._v(" being used, the resulting "),s("code",[t._v("AbortError")]),t._v(" is bubbled up to the caller.")]),t._v(" "),s("h2",{attrs:{id:"request-defaults"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-defaults"}},[t._v("#")]),t._v(" "),s("code",[t._v("request.defaults()")])]),t._v(" "),s("p",[t._v("Override or set default options. Example:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myrequest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@octokit/request"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaults")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("baseUrl")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github-enterprise.acme-inc.com/api/v3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"user-agent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myApp/1.2.3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("token 0000000000000000000000000000000000000001")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("org")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-project"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("per_page")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("myrequest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("GET /orgs/{org}/repos")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("You can call "),s("code",[t._v(".defaults()")]),t._v(" again on the returned method, the defaults will cascade.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myProjectRequest "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaults")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("baseUrl")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github-enterprise.acme-inc.com/api/v3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"user-agent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myApp/1.2.3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("org")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-project"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myProjectRequestWithAuth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" myProjectRequest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaults")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("token 0000000000000000000000000000000000000001")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("code",[t._v("myProjectRequest")]),t._v(" now defaults the "),s("code",[t._v("baseUrl")]),t._v(", "),s("code",[t._v("headers['user-agent']")]),t._v(",\n"),s("code",[t._v("org")]),t._v(" and "),s("code",[t._v("headers['authorization']")]),t._v(" on top of "),s("code",[t._v("headers['accept']")]),t._v(" that is set\nby the global default.")]),t._v(" "),s("h2",{attrs:{id:"request-endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-endpoint"}},[t._v("#")]),t._v(" "),s("code",[t._v("request.endpoint")])]),t._v(" "),s("p",[t._v("See https://github.com/octokit/endpoint.js. Example")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("endpoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET /orgs/{org}/repos"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("org")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-project"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"private"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   method: 'GET',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   url: 'https://api.github.com/orgs/my-project/repos?type=private',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   headers: {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     accept: 'application/vnd.github.v3+json',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     authorization: 'token 0000000000000000000000000000000000000001',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     'user-agent': 'octokit/endpoint.js v1.2.3'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   }")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n")])])]),s("p",[t._v("All of the "),s("a",{attrs:{href:"https://github.com/octokit/endpoint.js",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@octokit/endpoint")]),s("OutboundLink")],1),t._v(" API can be used:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#endpoint"}},[s("code",[t._v("octokitRequest.endpoint()")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#endpointdefaults"}},[s("code",[t._v("octokitRequest.endpoint.defaults()")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#endpointdefaults"}},[s("code",[t._v("octokitRequest.endpoint.merge()")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#endpointmerge"}},[s("code",[t._v("octokitRequest.endpoint.parse()")])])])]),t._v(" "),s("h2",{attrs:{id:"special-cases"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#special-cases"}},[t._v("#")]),t._v(" Special cases")]),t._v(" "),s("p",[s("a",{attrs:{name:"data-parameter"}})]),t._v(" "),s("h3",{attrs:{id:"the-data-parameter-set-request-body-directly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-data-parameter-set-request-body-directly"}},[t._v("#")]),t._v(" The "),s("code",[t._v("data")]),t._v(" parameter ‚Äì set request body directly")]),t._v(" "),s("p",[t._v("Some endpoints such as "),s("a",{attrs:{href:"https://developer.github.com/v3/markdown/#render-a-markdown-document-in-raw-mode",target:"_blank",rel:"noopener noreferrer"}},[t._v("Render a Markdown document in raw mode"),s("OutboundLink")],1),t._v(" don‚Äôt have parameters that are sent as request body keys, instead the request body needs to be set directly. In these cases, set the "),s("code",[t._v("data")]),t._v(" parameter.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST /markdown/raw"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello world github/linguist#1 **cool**, and #1!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/html;charset=utf-8"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"content-type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/plain"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Request is sent as")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       method: 'post',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       url: 'https://api.github.com/markdown/raw',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       headers: {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         accept: 'text/html;charset=utf-8',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         'content-type': 'text/plain',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         'user-agent': userAgent")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       },")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       body: 'Hello world github/linguist#1 **cool**, and #1!'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// not as")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//       body: \'{"data": "Hello world github/linguist#1 **cool**, and #1!"}\'')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n")])])]),s("h3",{attrs:{id:"set-parameters-for-both-the-url-query-and-the-request-body"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-parameters-for-both-the-url-query-and-the-request-body"}},[t._v("#")]),t._v(" Set parameters for both the URL/query and the request body")]),t._v(" "),s("p",[t._v("There are API endpoints that accept both query parameters as well as a body. In that case you need to add the query parameters as templates to "),s("code",[t._v("options.url")]),t._v(", as defined in the "),s("a",{attrs:{href:"https://tools.ietf.org/html/rfc6570",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 6570 URI Template specification"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Example")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST https://uploads.github.com/repos/octocat/Hello-World/releases/1/assets{?name,label}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example.zip"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("label")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"short description"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"content-type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/plain"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"content-length"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("token 0000000000000000000000000000000000000001")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, world!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"set-a-custom-agent-to-your-requests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-a-custom-agent-to-your-requests"}},[t._v("#")]),t._v(" Set a custom Agent to your requests")]),t._v(" "),s("p",[t._v("The way to pass a custom "),s("code",[t._v("Agent")]),t._v(" to requests is by creating a custom "),s("code",[t._v("fetch")]),t._v(" function and pass it as "),s("code",[t._v("options.request.fetch")]),t._v(". A good example can be "),s("a",{attrs:{href:"https://undici.nodejs.org/#/?id=undicifetchinput-init-promise",target:"_blank",rel:"noopener noreferrer"}},[t._v("undici's "),s("code",[t._v("fetch")]),t._v(" implementation"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Example ("),s("a",{attrs:{href:"https://codesandbox.io/p/sandbox/nifty-stitch-wdlwlf",target:"_blank",rel:"noopener noreferrer"}},[t._v("See example in CodeSandbox"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" request "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@octokit/request"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" fetch "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" undiciFetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Agent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"undici"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/** @type {typeof import("undici").fetch} */')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("myFetch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("undiciFetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("dispatcher")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Agent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("keepAliveTimeout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("keepAliveMaxTimeout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET /users/{username}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"octocat"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"X-GitHub-Api-Version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2022-11-28"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" myFetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"license"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[t._v("#")]),t._v(" LICENSE")]),t._v(" "),s("p",[s("a",{attrs:{href:"LICENSE"}},[t._v("MIT")])])])}),[],!1,null,null,null);s.default=r.exports}}]);