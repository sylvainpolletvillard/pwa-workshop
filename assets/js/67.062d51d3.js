(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{365:function(t,s,e){"use strict";e.r(s);var a=e(14),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"follow-redirects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#follow-redirects"}},[t._v("#")]),t._v(" Follow Redirects")]),t._v(" "),s("p",[t._v("Drop-in replacement for Node's "),s("code",[t._v("http")]),t._v(" and "),s("code",[t._v("https")]),t._v(" modules that automatically follows redirects.")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/follow-redirects",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/follow-redirects.svg",alt:"npm version"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/follow-redirects/follow-redirects/actions",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://github.com/follow-redirects/follow-redirects/workflows/CI/badge.svg",alt:"Build Status"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://coveralls.io/r/follow-redirects/follow-redirects?branch=master",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://coveralls.io/repos/follow-redirects/follow-redirects/badge.svg?branch=master",alt:"Coverage Status"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.npmjs.com/package/follow-redirects",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/follow-redirects.svg",alt:"npm downloads"}}),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/sponsors/RubenVerborgh",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/static/v1?label=Sponsor&message=%F0%9F%92%96&logo=GitHub",alt:"Sponsor on GitHub"}}),s("OutboundLink")],1)]),t._v(" "),s("p",[s("code",[t._v("follow-redirects")]),t._v(" provides "),s("a",{attrs:{href:"https://nodejs.org/api/http.html#http_http_request_options_callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("request"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://nodejs.org/api/http.html#http_http_get_options_callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("get"),s("OutboundLink")],1),t._v("\nmethods that behave identically to those found on the native "),s("a",{attrs:{href:"https://nodejs.org/api/http.html#http_http_request_options_callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("http"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://nodejs.org/api/https.html#https_https_request_options_callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("https"),s("OutboundLink")],1),t._v("\nmodules, with the exception that they will seamlessly follow redirects.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" https "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow-redirects'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nhttp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://bit.ly/900913'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("chunk")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("You can inspect the final redirected URL through the "),s("code",[t._v("responseUrl")]),t._v(" property on the "),s("code",[t._v("response")]),t._v(".\nIf no redirection happened, "),s("code",[t._v("responseUrl")]),t._v(" is the original request URL.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("host")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bitly.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/UHfDGO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseUrl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'http://duckduckgo.com/robots.txt'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrequest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),s("h3",{attrs:{id:"global-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#global-options"}},[t._v("#")]),t._v(" Global options")]),t._v(" "),s("p",[t._v("Global options are set directly on the "),s("code",[t._v("follow-redirects")]),t._v(" module:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" followRedirects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow-redirects'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfollowRedirects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maxRedirects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfollowRedirects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maxBodyLength "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 20 MB")]),t._v("\n")])])]),s("p",[t._v("The following global options are supported:")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("maxRedirects")]),t._v(" (default: "),s("code",[t._v("21")]),t._v(") – sets the maximum number of allowed redirects; if exceeded, an error will be emitted.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("maxBodyLength")]),t._v(" (default: 10MB) – sets the maximum size of the request body; if exceeded, an error will be emitted.")])])]),t._v(" "),s("h3",{attrs:{id:"per-request-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#per-request-options"}},[t._v("#")]),t._v(" Per-request options")]),t._v(" "),s("p",[t._v("Per-request options are set by passing an "),s("code",[t._v("options")]),t._v(" object:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" https "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow-redirects'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://bit.ly/900913'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\noptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maxRedirects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\noptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("beforeRedirect")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Use this to adjust the request options upon redirecting,")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to inspect the latest response headers,")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or to cancel the request by throwing an error")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// response.headers = the redirect response headers")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// response.statusCode = the redirect response code (eg. 301, 307, etc.)")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// request.url = the requested URL that resulted in a redirect")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// request.headers = the headers in the request that resulted in a redirect")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// request.method = the method of the request that resulted in a redirect")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user:password"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nhttp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("In addition to the "),s("a",{attrs:{href:"https://nodejs.org/api/http.html#http_http_request_options_callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("standard HTTP"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://nodejs.org/api/https.html#https_https_request_options_callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTPS options"),s("OutboundLink")],1),t._v(",\nthe following per-request options are supported:")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("followRedirects")]),t._v(" (default: "),s("code",[t._v("true")]),t._v(") – whether redirects should be followed.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("maxRedirects")]),t._v(" (default: "),s("code",[t._v("21")]),t._v(") – sets the maximum number of allowed redirects; if exceeded, an error will be emitted.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("maxBodyLength")]),t._v(" (default: 10MB) – sets the maximum size of the request body; if exceeded, an error will be emitted.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("beforeRedirect")]),t._v(" (default: "),s("code",[t._v("undefined")]),t._v(") – optionally change the request "),s("code",[t._v("options")]),t._v(" on redirects, or abort the request by throwing an error.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("agents")]),t._v(" (default: "),s("code",[t._v("undefined")]),t._v(") – sets the "),s("code",[t._v("agent")]),t._v(" option per protocol, since HTTP and HTTPS use different agents. Example value: "),s("code",[t._v("{ http: new http.Agent(), https: new https.Agent() }")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("trackRedirects")]),t._v(" (default: "),s("code",[t._v("false")]),t._v(") – whether to store the redirected response details into the "),s("code",[t._v("redirects")]),t._v(" array on the response object.")])])]),t._v(" "),s("h3",{attrs:{id:"advanced-usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#advanced-usage"}},[t._v("#")]),t._v(" Advanced usage")]),t._v(" "),s("p",[t._v("By default, "),s("code",[t._v("follow-redirects")]),t._v(" will use the Node.js default implementations\nof "),s("a",{attrs:{href:"https://nodejs.org/api/http.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("http")]),s("OutboundLink")],1),t._v("\nand "),s("a",{attrs:{href:"https://nodejs.org/api/https.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("https")]),s("OutboundLink")],1),t._v(".\nTo enable features such as caching and/or intermediate request tracking,\nyou might instead want to wrap "),s("code",[t._v("follow-redirects")]),t._v(" around custom protocol implementations:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" https "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow-redirects'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("http")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your-custom-http'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("https")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your-custom-https'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Such custom protocols only need an implementation of the "),s("code",[t._v("request")]),t._v(" method.")]),t._v(" "),s("h2",{attrs:{id:"browser-usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#browser-usage"}},[t._v("#")]),t._v(" Browser Usage")]),t._v(" "),s("p",[t._v("Due to the way the browser works,\nthe "),s("code",[t._v("http")]),t._v(" and "),s("code",[t._v("https")]),t._v(" browser equivalents perform redirects by default.")]),t._v(" "),s("p",[t._v("By requiring "),s("code",[t._v("follow-redirects")]),t._v(" this way:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow-redirects/http'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" https "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow-redirects/https'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("you can easily tell webpack and friends to replace\n"),s("code",[t._v("follow-redirect")]),t._v(" by the built-in versions:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"follow-redirects/http"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"follow-redirects/https"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"contributing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contributing"}},[t._v("#")]),t._v(" Contributing")]),t._v(" "),s("p",[t._v("Pull Requests are always welcome. Please "),s("a",{attrs:{href:"https://github.com/follow-redirects/follow-redirects/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("file an issue"),s("OutboundLink")],1),t._v("\ndetailing your proposal before you invest your valuable time. Additional features and bug fixes should be accompanied\nby tests. You can run the test suite locally with a simple "),s("code",[t._v("npm test")]),t._v(" command.")]),t._v(" "),s("h2",{attrs:{id:"debug-logging"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debug-logging"}},[t._v("#")]),t._v(" Debug Logging")]),t._v(" "),s("p",[s("code",[t._v("follow-redirects")]),t._v(" uses the excellent "),s("a",{attrs:{href:"https://www.npmjs.com/package/debug",target:"_blank",rel:"noopener noreferrer"}},[t._v("debug"),s("OutboundLink")],1),t._v(" for logging. To turn on logging\nset the environment variable "),s("code",[t._v("DEBUG=follow-redirects")]),t._v(" for debug output from just this module. When running the test\nsuite it is sometimes advantageous to set "),s("code",[t._v("DEBUG=*")]),t._v(" to see output from the express server as well.")]),t._v(" "),s("h2",{attrs:{id:"authors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authors"}},[t._v("#")]),t._v(" Authors")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://ruben.verborgh.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ruben Verborgh"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"mailto:olalonde@gmail.com"}},[t._v("Olivier Lalonde")])]),t._v(" "),s("li",[s("a",{attrs:{href:"mailto:james@talmage.io"}},[t._v("James Talmage")])])]),t._v(" "),s("h2",{attrs:{id:"license"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[t._v("#")]),t._v(" License")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/follow-redirects/follow-redirects/blob/master/LICENSE",target:"_blank",rel:"noopener noreferrer"}},[t._v("MIT License"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);